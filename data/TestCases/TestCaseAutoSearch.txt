%META:TOPICINFO{author="ProjectContributor" date="1117992408" format="1.0" version="$Rev$"}%

Description: Automated search function tests.

Results dependent on templates used to render search results. Tests only make sense when this topic is viewed with "pattern" skin and standard search templates.

[[%SCRIPTURLPATH{"view"}%/%WEB%/%TOPIC%?test=compare&debugenableplugins=TestFixturePlugin&skin=pattern][run this test]]

Designed by: Crawford Currie

---+ Search _default
---++ Expected
<!-- expected expand rex DEFAULT -->
<div class="foswikiSearchResultsHeader"><span>Searched: <b><noautolink>hit me with your rhythm stick</noautolink></b></span><span id="foswikiNumberOfResultsContainer"></span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from TestCases web</b> retrieved at @TIME (@REX(GMT|Local))</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/TestCaseAutoSearch"><b>TestCaseAutoSearch</b></a> 
<div class="foswikiSummary"><b>&hellip;</b>  default Expected Searched: <em>hit me with your rhythm stick</em> Results from TestCases web  <b>&hellip;</b> default Expected Searched: <em>hit me with your rhythm stick</em> Results from TestCases web <b>&hellip;</b> </div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/TestCaseAutoSearch" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"><b>&hellip;</b> , used in TestCaseAutoSearch <em>hit me with your rhythm stick</em> hit me! hit me! schmerz ist  <b>&hellip;</b> </div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>2</span></div> 
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit me with your rhythm stick" }%
<!-- /actual -->



---+ Search with search parameter
---++ Expected (again)
<!-- expected again expand rex SEARCHPARAMETER -->
Same as last test
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ search="hit me with your rhythm stick" }%
<!-- /actual -->

---+ Search with _default *and* search parameter
---++ Expected (again)
<!-- expected again expand rex DEFAULTANDSEARCH -->
Same as last test
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit me with your rhythm stick" search="sausages and mash" }%
<!-- /actual -->



---+ Topic search with two webs specified, all summary fields disabled (expand rex TWOWEBS)
---++ Expected
<!-- expected expand rex TWOWEBS -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/%SYSTEMWEB%/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/%SYSTEMWEB%/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{
    "WebPreferences$"
    type="regex"
    scope="topic"
    web="TestCases, %SYSTEMWEB%"
    nosummary="on"
    nosearch="on"
    noheader="on"
    nototal="on"
    order="topic"
}%
<!-- /actual -->



---+ Topic search with all webs specified
---++ Expected
<!-- expected expand rex ALLWEBS -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/%SYSTEMWEB%/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/%SYSTEMWEB%/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "WhatIsWikiWiki" scope="topic" web="all" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->



---+ Text search with topic parameter
---++ Expected
<!-- expected expand rex TOPICPARAMETER -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/TestCaseAutoSearch"><b>TestCaseAutoSearch</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/TestCaseAutoSearch" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit me with" topic="TestCaseAuto*" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->


---+ Text search with excludetopic parameter set to a topic
---++ Expected
<!-- expected rex expand EXCLUDETOPICTOPIC -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "your rhythm" excludetopic="TestCaseAutoSearch" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->




---+ Text search with excludetopic parameter set to a wildcard
---++ Expected (again)
<!-- expected again rex expand EXCLUDETOPICWILDCARD -->
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "your rhythm" excludetopic="TestCaseAuto*" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->

---+ Keyword search
---++ Expected (again)
<!-- expected again rex expand KEYWORDSEARCH -->
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "includer -excluder" web="TestCases" type="keyword" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->

---+ Text search with excludetopic set to a list of topics
---++ Expected (empty)
<!-- expected EXCLUDETOPICLIST -->
<p />
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit me with" excludetopic="TestCaseAutoSearch, WhatIsWikiWiki" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->





---+ Text search with multiple set
---++ Expected
<!-- expected expand rex MULTIPLE -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit me" web="TestCases" multiple="on" reverse="on" limit="1" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->




---+ Regex search
---++ Expected
<!-- expected expand rex REGEX -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/TestCaseAutoSearch"><b>TestCaseAutoSearch</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/TestCaseAutoSearch" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span>
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "hit *me" type="regex" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" }%
<!-- /actual -->

---+ scope="all" search
---++ Expected
<!-- expected expand rex SCOPEALL -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WhatIsWikiWiki"><b>WhatIsWikiWiki</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WhatIsWikiWiki" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div><div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/TestCaseAutoSearch"><b>TestCaseAutoSearch</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/TestCaseAutoSearch" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "WhatIsWikiWiki" web="TestCases" scope="all" nosummary="on" nosearch="on" noheader="on" nototal="on" reverse="on"}%
<!-- /actual -->

---+ casesensitive="on"
---++ Expected
<!-- expected rex expand CASESENSITIVE -->
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/TestCaseAutoSearch"><b>TestCaseAutoSearch</b></a> 
<div class="foswikiSummary"></div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/TestCaseAutoSearch" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span>  
</div> 
</div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{ "Rhythm" web="TestCases" nosummary="on" nosearch="on" noheader="on" nototal="on" casesensitive="on" }%
<!-- /actual -->

---+ Sven - working on Foswiki:Tasks.Item1339  	   	 Foswiki:Development.ExtractAndCentralizeFormattingRefactor

---+ 2 webs, default outputting
---++ Expected
<!-- expected expand rex old Tmwiki default multi-weboutput 2 webs -->
<div class="foswikiSearchResultsHeader"><span>Searched: <b><noautolink>WebPreferences$</noautolink></b></span><span id="foswikiNumberOfResultsContainer"></span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from <nop>TestCases web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop TestCases Web Preferences Set BROADCASTMESSAGE NOTE: This is the nop TestCases web. You cannot edit any topic named "TestCase..." or "Web..." in this web ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from System web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/%SYSTEMWEB%/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop System Web Preferences Appearance Set WEBBGCOLOR #FFD8AA Set SITEMAPLIST on Set WEBSUMMARY Discover Foswiki details, and how to start your ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/%SYSTEMWEB%/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{
    "WebPreferences$"
    type="regex"
    scope="topic"
    web="TestCases, %SYSTEMWEB%"
}%
<!-- /actual -->



---+ 4 webs, default outputting
---++ Expected
<!-- expected expand rex old Tmwiki default multi-weboutput 4 webs -->
<div class="foswikiSearchResultsHeader"><span>Searched: <b><noautolink>WebPreferences$</noautolink></b></span><span id="foswikiNumberOfResultsContainer"></span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from <nop>TestCases web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/TestCases/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop TestCases Web Preferences Set BROADCASTMESSAGE NOTE: This is the nop TestCases web. You cannot edit any topic named "TestCase..." or "Web..." in this web ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/TestCases/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from System web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/%SYSTEMWEB%/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop System Web Preferences Appearance Set WEBBGCOLOR #FFD8AA Set SITEMAPLIST on Set WEBSUMMARY Discover Foswiki details, and how to start your ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/%SYSTEMWEB%/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from %USERSWEB% web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop <nop>%USERSWEB% Web Preferences Appearance Set WEBBGCOLOR #FFEFA6 web specific background color, current color Set SITEMAPLIST on Set WEBSUMMARY ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/%USERSWEB%/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div><h4 class="foswikiSearchResultsHeader" style="border-color:@REX([a-z]+|\#[0-9a-fA-F]{6})"><b>Results from Sandbox web</b> retrieved at @TIME (@REX(GMT|Local)</h4> 
<div class="foswikiSearchResult"><div class="foswikiTopRow"> 
<a href="%SCRIPTURLPATH{"view"}%/Sandbox/WebPreferences"><b>WebPreferences</b></a> 
<div class="foswikiSummary">nop Sandbox Web Preferences Appearance Set WEBBGCOLOR #B9DAFF Set WEBSUMMARY Sandbox test area to experiment in an unrestricted hands on web. ...</div></div> 
<div class="foswikiBottomRow"> 
<span class="foswikiSRRev"><span class="foswikiNew">NEW</span> - <a href="%SCRIPTURLPATH{"rdiff"}%/Sandbox/WebPreferences" rel='nofollow'>@DATE - @TIME</a></span> <span class="foswikiSRAuthor">by <a href="%SCRIPTURLPATH{"view"}%/%USERSWEB%/@WIKIWORD">@WIKIWORD</a> </span> 
</div> 
</div> 
<div class="foswikiSearchResultCount">Number of topics: <span>1</span></div>
<!-- /expected -->
---++ Actual
<!-- actual -->
%SEARCH{
    "WebPreferences$"
    type="regex"
    scope="topic"
    web="TestCases, %SYSTEMWEB%, %USERSWEB%, Sandbox"
}%
<!-- /actual -->



---+ bookview="on"

---+ expandvariables="on"

---+ header="..."

---+ separator=", " (default newline)
---+ newline="%BR%" 	Line separator within a search hit, effective only in FormattedSearch.



